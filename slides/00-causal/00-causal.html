<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Counterfactuals and Causal Policy Effects</title>
    <meta charset="utf-8" />
    <meta name="author" content="Sam Harper" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Counterfactuals and Causal Policy Effects
]
.subtitle[
## Advanced Social Epidemiology PhD Course
]
.author[
### Sam Harper
]
.institute[
### <br> </br>
]
.date[
### University of Copenhagen <br> 2024-02-02 to 2024-02-06 </br>
]

---








class: center, top, inverse
# .orange[**Causal Policy Effects**]

.left[
## .orange[**I. "What-If" Questions and Counterfactuals**]
## .orange[**II. Causal Parameters**]
## .orange[**III. Causal Assumptions**]
]

---
class: center, top, inverse
# .orange[**Causal Policy Effects**]

.left[
## .orange[**I. "What-If" Questions and Counterfactuals**]
## .gray[**II. Causal Parameters**]
## .gray[**III. Causal Assumptions**]
]

---
### "What-ifs" and counterfactuals

.left-column[

![](/images/counterfactual-image.png)
]

.right-column[
- Questions about the impact of an intervention (the change that can be causally attributed to the program) are about what-ifs

- Prospectively, we can think about how the world would be different if we intervened to change the status quo

- Retrospectively, we can think about what would have been had we not implemented a particular policy or program

- These alternative causal states are known as counterfactuals

- We are surrounded by what-ifs with potential relevance to population health—just look at the recent headlines!

]

---
## "Normal" etiological science in social epidemiology
.right-column[
1.  Follow-up of individuals in different social groups for various
    health outcomes (incidence, mortality, risk factors)

2.  Adjustment for various confounders/mediators (are inequalities
    "explained" by\....A, B, C?).

-   "Our results demonstrate that"\...we should:

    -   *raise* education levels
    -   *increase* economic assistance to the poor
    -   *remove* noxious exposures from the environment
    -   *reduce* psychosocial workplace hazards
    -   *eliminate* hierarchies, and the like.

-   These statements are based on making **causal** inferences.
]

---
## Potential Outcomes Framework

.right-column[

- What-if or counterfactual questions are about hypotheticals—*so how can we answer them*?

- The potential outcomes framework provides us with a guide for posing and answering counterfactual questions; it is the common language for impact evaluation in the social sciences

- The potential outcomes framework uses the specification of well-defined causal states to which all members of the population of interest could be exposed to identify what would have been under an alternative counterfactual scenario

]

---
.footnote[Collier (2009)]

.left-column[
James Lind is credited with introducing the concept of control and experimental groups; he is considered the father of clinical trials
]

.right-column[
.center[
![:scale 90% ](/images/lind.jpg)
]]

---
## Alternative treatment states

.pull-left[
Suppose that individuals i in a population can be simultaneously assigned to two (or more) alternative treatments, `\(T_{i}\)` 

When only two alternative treatments are being considered they can be called the treatment and control states
]

.pull-right[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:gray;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
Individual `\(i\)`

&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:blue;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
If "treated" `\(T_{i}=1\)`

&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:red;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
If "control" `\(T_{i}=0\)`
]

---
## Alternative treatment states

- Suppose that individuals i in a population can be simultaneously assigned to two (or more) alternative treatments, `\(T_{i}\)` 

- When only two alternative treatments are being considered they can be called the treatment and control states

.column-1[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:gray;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
Individual `\(i\)`
]

.column-2[
.pull-left[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:blue;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
If "treated" `\(T_{i}=1\)`
]

.pull-right[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:red;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
If "control" `\(T_{i}=0\)`
]
]

---
## Potential Outcomes

- The potential outcomes for each individual are defined as the true values of the outcome that would result from exposure to well-defined, alternative causal states--each individual has a potential outcome under both the treatment and control states  

- With a binary treatment, the potential outcomes are given by the random variables `\(Y^{1}\)` and `\(Y^{0}\)`; we assume that each individual in the population has a potential outcome under both states

.column-1[
Potential outcomes `\(Y_{i}:\)`
]

.column-2[
.pull-left[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:blue;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
`\(y_{i}^{1}\)`
]

.pull-right[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:red;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
`\(y_{i}^{0}\)`
]
]


---
## 

.left-column[
### Potential Outcomes
]

.right-column[
&lt;table class="table" style="font-size: 30px; color: black; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
&lt;tr&gt;
&lt;th style="empty-cells: hide;border-bottom:hidden;" colspan="1"&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Treatment&lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Potential Outcomes&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; ID &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(d_{i}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(y_{i}^{1}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(y_{i}^{0}\) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 18 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 22 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 20 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 23 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 22 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 19 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 17 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 20 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## The individual causal effect

.pull-left[

Potential outcomes `\(Y_{i}:\)`

.pull-left[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:blue;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
`\(y_{i}^{1}\)`
]

.pull-right[
&lt;svg viewBox="0 0 256 512" style="position:relative;display:inline-block;top:.1em;fill:red;height:5em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"&gt;&lt;/path&gt;&lt;/svg&gt;
`\(y_{i}^{0}\)`
]
]

.pull-right[

- The individual causal effect is the difference in outcomes for the same individual with and without the intervention.

- A causal effect implies that the individual would have experienced the outcome if treated, but not untreated (or vice versa).

]

Causal effect:

`\(\delta_{i} = y_{i}^{1} - y_{i}^{0}\)` or `\(\delta_{i} = y_{i}^{1} / y_{i}^{0}\)`

---
## 

.left-column[
### Individual causal effects
]

.right-column[
&lt;table class="table" style="font-size: 30px; color: black; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
&lt;tr&gt;
&lt;th style="empty-cells: hide;border-bottom:hidden;" colspan="1"&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Treatment&lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Potential Outcomes&lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Effect&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; ID &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(d_{i}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(y_{i}^{1}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(y_{i}^{0}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(\delta_{i}\) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 22 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 23 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 22 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 17 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## 

.left-column[
### Individual causal effects
]

.right-column[
&lt;table class="table" style="font-size: 30px; color: black; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
&lt;tr&gt;
&lt;th style="empty-cells: hide;border-bottom:hidden;" colspan="1"&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Treatment&lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Potential Outcomes&lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;Effect&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; ID &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(d_{i}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(y_{i}^{1}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(y_{i}^{0}\) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; \(\delta_{i}\) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;21&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;18&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;18&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;15&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;19&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;15&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;22&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;20&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;23&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;22&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;19&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;19&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;17&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;15&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:center;width: 4em; "&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: black !important;"&gt;21&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="     color: red !important;"&gt;20&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## A missing data problem

---
## The Average Treatment Effect (ATE)

---
## True (unobserved) impact of an intervention

---
## The average treatment effect

---
## Fundamental problem of causal inference

---
## Fundamental problem of causal inference

---
## Fundamental problem of causal inference

---
## Fundamental problem of causal inference

---
## Naive estimate of the ATE

---
## Estimated (observed) impact of the program

---
## The selection problem

---
## Recovering causal effects

---
## What are randomized experiments

---
## RCTs and exchangeability

---
## RCTs and exchangeability

---
## 'Quasi'-experiments

---
class: center, top, inverse
# .orange[**Causal Policy Effects**]

.left[
## .gray[**I. "What-If" Questions and Counterfactuals**]
## .orange[**II. Causal Parameters**]
## .gray[**III. Causal Assumptions**]
]

---
## Treatment effects

---
## Average Treatment Effect on the Treated (ATT)

---
## Calculate the ATE and the ATT

---
## Calculate the ATE

---
## Calculate the ATT

---
## More on the ATE vs. the ATT

---
## Average Treatment Effect on the Controls (ATC)

---
## Calculate the ATC

---
## Relation between ATE, ATT, and ATC

---
## Simple example

---
class: center, top, inverse
# .orange[**Causal Policy Effects**]

.left[
## .gray[**I. "What-If" Questions and Counterfactuals**]
## .gray[**II. Causal Parameters**]
## .orange[**III. Causal Assumptions**]
]

---
## Exchangeability

---
## Stable Unit Treatment Value Assumption (SUTVA)

---
## Consistency

---
## Positivity

---
## Further reading

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
